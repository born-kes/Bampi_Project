<script src="j/colResizable/jquery.js"></script>
<script src="i/jquery-ui.min.js"></script>
<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">

<h1>Ustawienia</h1>
<div id="tabs">
    <script>
    $(function() {
        $( "#tabs" ).tabs();//.addClass( "ui-tabs-vertical ui-helper-clearfix" );
       // $( "#tabs li" ).removeClass( "ui-corner-top" ).addClass( "ui-corner-left" );
    });
</script>
    <style>
        .ui-tabs-vertical { width: 55em; }
        .ui-tabs-vertical .ui-tabs-nav { padding: .2em .1em .2em .2em; float: left; width: 12em; }
        .ui-tabs-vertical .ui-tabs-nav li { clear: left; width: 100%; border-bottom-width: 1px !important; border-right-width: 0 !important; margin: 0 -1px .2em 0; }
        .ui-tabs-vertical .ui-tabs-nav li a { display:block; }
        .ui-tabs-vertical .ui-tabs-nav li.ui-tabs-active { padding-bottom: 0; padding-right: .1em; border-right-width: 1px; border-right-width: 1px; }
        .ui-tabs-vertical .ui-tabs-panel { padding: 1em; float: right; width: 40em;}
    </style>
<ul>
    <li><a href="#baza">Ustawienia Bazy Danych</a></li>
    <li><a href="#kolumny">Ustawienia Kolumn Tabel</a></li>
    <li><a href="#tabs-3">Ustawienia Dodatkowe</a></li>
</ul>
<form method="POST">
    <fieldset name="config">
        <div id="baza">
            <div class="exp_inp">
                <div id="komunikat">{{komunikat}}</div>
                <i class="fa fa-database"></i>
                <label for="database_name">Nazwa Bazy danych:</label>
                <input type="text" name="database_name" id="database_name" value="{{database_name}}">
            </div>

        <div class="exp_inp">
            <a href="sql.html?import" title="Importuj Baze Danych">
                <i class="fa fa-upload"></i>
                Załaduj baze z pliku</a>
            &nbsp;
            <a href="sql.html?export" title="Exportuj Baze Danych"><i class="fa fa-download"></i> Pobierz kopię bazy </a></div>
        </div>
        <style>
            @import url("i/jquery-ui.min.css");
            .Column_list .ui-selecting {
                background: #FECA40;
            }
            .Column_list .ui-selected {
                background: #F39814;
                color: white;
                border: 2px inset;
            }
            .Column_list {
                list-style-type: none;
                margin: 0;
                padding: 0;
                display: flex;
            }
            .Column_list li {
                font-size: 14px;
                height: 18px;
                margin: 3px;
                padding: 2px;
                float: left;
                background: #cccccc;
                cursor: pointer;
                border: 2px outset #cccccc;
            }
            #kolumny{
                padding:1em;
                padding-bottom:2em;
            }
            #komunikat{
                color:red;
            }
            .exp_inp{
                padding: 2em;
                text-align: center;
            }
            .exp_inp a{
                text-align: center;

                margin: 1em;
            }
            .exp_inp input{
                padding: 1px;
                text-align: center;
                background: none repeat scroll 0 0 #f9f7ed;
                border: 1px solid #0066cc;
            }
        </style>
        <div id="kolumny">
            <h1>Używaj Kolumn Tabeli</h1>
            <h2>Pola Widoczne w Tabeli Produktów:</h2>
            <input type="hidden" name="Tabel" id="Tabel" value="{{Tabel}}" />
            <script>
                $(function() {
                    $( "#Tabel_list" ).each(function() {
                       var table_list = this;
                        $('li',this).click(function(){
                            $(this).toggleClass('ui-selected');
                            var result = $( "#Tabel" ).val('');

                            $( ".ui-selected", table_list).each(function() {
                                var op = $(this).text();
                                result.val(function(nr,el){
                                    if(el=='')return op; return Array(el,op).join(',');});
                            });
                        });


                    });
                });
            </script>
            <ul id="Tabel_list" class="Column_list">
                {{Tabel_list}}
            </ul>
            <hr />
            <h3>W pliku Exel</h3>
            <input type="hidden" name="Exel" id="Exel" value="{{Exel}}" />
            <script>
                $(function() {
                    $( "#Exel_list" ).each(function() {
                       var table_list = this;
                        $('li',this).click(function(){
                            $(this).toggleClass('ui-selected');
                            var result = $( "#Exel" ).val('');

                            $( ".ui-selected", table_list).each(function() {
                                var op = $(this).text();
                                result.val(function(nr,el){
                                    if(el=='')return op; return Array(el,op).join(',');});
                            });
                        });


                    });
                });
            </script>
            <ul id="Exel_list" class="Column_list">
                {{Column_list}}
            </ul>
        </div>
        <div id="tabs-3">
            <label for="alternatiw">Firma kontrolowana:</label>
            <input name="alternatiw" id="alternatiw" value="{{alternatiw}}" type="text" />
        </div>
        <button class="ui-widget ui-state-default ui-corner-all ui-button-text-only">Zapisz</button>
    </fieldset>
</form>
</div>
<script>
    $(function() {
        {{JS}}
       // $('#ss').find('td')
    });
</script>